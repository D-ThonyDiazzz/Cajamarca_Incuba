<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cajamarca Incuba - Libro Interactivo 3D</title>
    <link rel="stylesheet" href="Styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.min.js"></script>
</head>

<body>
    <header class="book-header">
        <div class="header-glow"></div>
        <div class="header-container">
            <a href="https://camcajamarca.com.pe/cajamarca-incuba/" class="logo" target="_blank">
                <img src="assets/images/logo/logo_caj_incuba.png" alt="Cajamarca Incuba">
            </a>

            <!-- Navegación principal -->
            <nav class="header-nav">

                <div class="goto-page-top">
                    <span class="page-indicator" id="pageIndicator">
                        <i class="fas fa-file-alt"></i> Cargando...
                    </span>
                    <div class="goto-page-container">
                        <label for="gotoPageInput"><i class="fas fa-search"></i></label>
                        <input type="number" id="gotoPageInput" class="goto-page-input" placeholder="Ir a..." min="1">
                        <button id="gotoPageBtn" class="goto-page-btn" title="Ir a página">
                            <i class="fas fa-arrow-right"></i>
                        </button>
                    </div>
                </div>
                <!-- Select de videos -->
                <div class="nav-select-group">
                    <label for="videoSelect" class="nav-label">
                        <i class="fas fa-video"></i> Videos
                    </label>
                    <select id="videoSelect" class="nav-select">
                        <option value="">Ir a video...</option>
                        <!-- Se llenará desde JavaScript -->
                    </select>
                </div>

                <!-- Select de capítulos / secciones -->
                <div class="nav-select-group">
                    <label for="sectionSelect" class="nav-label">
                        <i class="fas fa-list-ul"></i> Secciones
                    </label>
                    <select id="sectionSelect" class="nav-select">
                        <option value="">Ir a sección...</option>
                        <!-- Se llenará desde JavaScript -->
                    </select>
                </div>



                <!-- Botón para abrir el índice lateral -->
                <button class="menu-btn" id="toggleMenu" aria-label="Abrir índice">
                    <i class="fas fa-bars"></i>
                    <span>Índice</span>
                </button>
            </nav>
        </div>
    </header>

    <aside class="sidebar" id="sidebar">
        <div class="sidebar-header">
            <h3><i class="fas fa-book-open"></i> Índice de Contenido</h3>
            <button class="close-sidebar" id="closeSidebar" aria-label="Cerrar índice">
                <i class="fas fa-times"></i>
            </button>
        </div>
        <div class="table-of-contents" id="tableOfContents"></div>
        <div class="sidebar-section">
            <h4><i class="fas fa-video"></i> Contenido Multimedia</h4>
            <div id="videoPagesList"></div>
        </div>
    </aside>
    <div class="sidebar-overlay" id="sidebarOverlay"></div>

    <main class="book-container">


        <div class="decoration-bg"></div>

        <!-- Partículas flotantes -->
        <div class="floating-particles">
            <span class="particle"></span>
            <span class="particle"></span>
            <span class="particle"></span>
            <span class="particle"></span>
            <span class="particle"></span>
            <span class="particle"></span>
            <span class="particle"></span>
            <span class="particle"></span>
        </div>

        <button class="nav-arrow left-arrow" id="prevBtn" aria-label="Página anterior">
            <i class="fas fa-chevron-left"></i>
        </button>

        <div class="book-3d" id="book">
            <div class="page left-static">
                <div class="page-content">
                    <canvas id="leftCanvas"></canvas>
                    <div id="leftVideoLayer" class="video-layer"></div>
                    <div class="page-footer"><span id="leftPageNum"></span></div>
                    <div class="shadow-overlay-left"></div>
                </div>
            </div>

            <div class="page right-static">
                <div class="page-content">
                    <canvas id="rightCanvas"></canvas>
                    <div id="rightVideoLayer" class="video-layer"></div>
                    <div class="page-footer"><span id="rightPageNum"></span></div>
                    <div class="shadow-overlay-right"></div>
                </div>
            </div>

            <div class="page flipper" id="flipper">
                <div class="flipper-face front">
                    <div class="page-content">
                        <canvas id="flipFrontCanvas"></canvas>
                        <div id="flipFrontVideoLayer" class="video-layer"></div>
                        <div class="page-footer"><span id="flipFrontNum"></span></div>
                        <div class="lighting-effect front-shine"></div>
                    </div>
                </div>
                <div class="flipper-face back">
                    <div class="page-content">
                        <canvas id="flipBackCanvas"></canvas>
                        <div id="flipBackVideoLayer" class="video-layer"></div>
                        <div class="page-footer"><span id="flipBackNum"></span></div>
                        <div class="lighting-effect back-shadow"></div>
                    </div>
                </div>
            </div>

            <div class="spine"></div>
        </div>

        <button class="nav-arrow right-arrow" id="nextBtn" aria-label="Página siguiente">
            <i class="fas fa-chevron-right"></i>
        </button>

        <div class="mobile-nav" id="mobileNav">
            <button class="mobile-nav-btn" id="mobilePrev">
                <i class="fas fa-chevron-left"></i> Anterior
            </button>
            <span class="mobile-page-indicator" id="mobilePageIndicator">1 / 96</span>
            <button class="mobile-nav-btn" id="mobileNext">
                Siguiente <i class="fas fa-chevron-right"></i>
            </button>
        </div>
    </main>

    <div class="progress-bar-fixed">
        <div class="progress-fill" id="progressFill"></div>
    </div>

    <div class="book-loader" id="loader">
        <div class="loader-content">
            <div class="loader-icon">
                <i class="fas fa-book-open fa-3x"></i>
                <div class="loader-circle"></div>
            </div>
            <h3>Cargando Libro Interactivo</h3>
            <div class="loader-bar">
                <div class="loader-progress"></div>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>

</html>